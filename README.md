# 实时聊天室网站
### 账号：test/test1，密码：123456
## [在线预览](https://chat.bro9.vip)
### 全局功能
- [x] 登录
- [x] 鉴权
- [ ] 禁言
- [X] 浏览器提示（标题闪烁）
- [x] 用户自定义头像
- [x] 用户自定义名称
- [X] 用户打开多窗口会断掉上一个链接
### 房间功能
- [X] 加入房间才连接
- [x] 切换房间
- [X] 分房间统计人数
- [X] 上划加载聊天记录
- [X] 气泡聊天样式
- [ ] 添加房间
- [x] 用户管理

### 技术栈：Vue + Flask + Redis + Mysql + Docker + Nginx + Certbot

- 使用redis对用户上下线与出入房间进行快速增删改查，实时记录状态
- 使用jwt对用户访问接口进行鉴权处理与访问时长限制
- 关于头像，使用的是对象存储公有读；为防止轮询用户ID爬取头像，使用hmac加密用户ID来命名头像
- 关于消息提醒，原本有一版是调用浏览器通知弹窗，但后为减少提示频率改为标签页闪烁
- 关于同浏览器多窗口，在redis中存储用户的连接信息，连接时验证，如果存在则断开之前的会话连接，以最新会话的为准

![聊天界面](https://bro9-1327032498.cos.ap-nanjing.myqcloud.com/20250710175948.png)